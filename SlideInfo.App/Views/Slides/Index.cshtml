@model IEnumerable<SlideInfo.App.Models.Slide>
@{
    ViewData["Title"] = "Slides";
}

<h2>Whole-slide images index</h2>

<form asp-action="Index" method="get">
    <div class="form-actions no-color">
        <p>
            Find slide: <input type="text" name="searchString" value="@ViewData["CurrentFilter"]" />
            <input type="submit" value="Search" class="btn btn-default" /> |
            <a asp-action="Index">Back to Full List</a> |
            <a asp-action="Update">Rescan</a> | Sort by:
            <a asp-action="Index" asp-route-sortOrder="@ViewData["NameSortParm"]">name</a> | 
            <a asp-action="Index" asp-route-sortOrder="@ViewData["VendorSortParm"]">vendor</a>
        </p>
    </div>
</form>

<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            @foreach (var slide in Model)
            {
                <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 thumb">
                    <div class="caption">
                        <h4><a asp-action="Display" asp-route-id="@slide.Id">@slide.Name</a></h4>
                        <ul style="list-style-type: none">
                            <li>
                                Vendor: @slide.Vendor
                            </li>
                            <li>
                                Original size: @slide.Width x @slide.Height
                            </li>
                            <li>
                                <a asp-action="Properties" asp-route-id="@slide.Id">Properties</a>
                            </li>
                            <li>
                                <a asp-action="AssociatedImages" asp-route-id="@slide.Id">Associated Images</a>
                            </li>
                            <li>
                                <a asp-action="Comments" asp-route-id="@slide.Id">Comments</a>
                            </li>
                        </ul>

                    </div>

                    @{var imgName = slide.Id + ".jpeg";}
                    <img src="/images/slideThumbs/@imgName" alt="@slide.Name">
                </div>
                        }
        </div>
    </div>
</div>

@section scripts
{
    <script>
        $('.thumb').hover(function () {
            $(this).find('.caption').css('opacity', '1');
        }, function () {
            $(this).find('.caption').css('opacity', '0');
        });
    </script>
}